{{ block title }}Ã‰CRAN 4 : Investissez vos jetons - DÃ©cision 1{{ endblock }} {{
block content }}
<div class="container mt-4" style="max-width: 800px">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h4>Investissez vos jetons - DÃ©cision 1</h4>
    </div>
    <div class="card-body">
      <p class="lead">
        Avec <strong>10</strong> de <strong>vos</strong> jetons, vous pouvez :
      </p>
      <ul>
        <li>tous les garder,</li>
        <li>
          <strong>OU</strong> les investir en partie ou en totalitÃ© dans un jeu
          risquÃ©.
        </li>
      </ul>

      <div class="alert alert-info mt-4">
        <h5>ğŸ” <strong>Comment fonctionne le jeu risquÃ© ?</strong></h5>
        <p>
          Un tirage au sort est effectuÃ© dans une urne contenant 12 boules :
        </p>
        <p>
          <span class="badge badge-warning">ğŸŸ¡ 6 boules JAUNES</span> &nbsp;
          <span class="badge badge-secondary">ğŸŸ£ 6 boules VIOLETTES</span>
        </p>

        <p>
          Avec autant de boules ğŸŸ¡ que ğŸŸ£, vous avez 1 chance sur 2 de tirer
          chaque boule :
        </p>
        <ul>
          <li>
            ğŸŸ¡ tirage JAUNE â†’
            <strong>vous gagnez 3 fois les jetons investis</strong>
          </li>
          <li>
            ğŸŸ£ tirage VIOLET â†’ <strong>vous perdez les jetons investis</strong>
          </li>
        </ul>
      </div>

      <div class="alert alert-light border">
        <h6>
          ğŸ’¡ <strong>Exemple :</strong> Vous investissez 4 jetons (et en gardez
          6).
        </h6>
        <ul>
          <li>
            ğŸŸ¡ <strong>tirage JAUNE :</strong> vous gagnez 3 Ã— 4 jetons = 12
            jetons<br />
            Votre total : 12 gagnÃ©s + 6 gardÃ©s = <strong>18 jetons</strong>
          </li>
          <li>
            ğŸŸ£ <strong>tirage VIOLET :</strong> vous perdez les 4 jetons
            investis et ne gagnez donc rien<br />
            Votre total : 0 gagnÃ© + 6 gardÃ©s = <strong>6 jetons</strong>
          </li>
        </ul>
      </div>

      {{ formfields }}

      <div class="alert alert-warning">
        <strong>âš ï¸ Important :</strong> Cette dÃ©cision (comme les suivantes)
        <strong>peut Ãªtre sÃ©lectionnÃ©e au hasard</strong> pour calculer votre
        <strong>gain final</strong>.
      </div>

      <div class="form-group">
        <label class="form-label">
          <strong>Quelle est votre dÃ©cision ?</strong>
        </label>
        <div class="row align-items-center">
          <div class="col-md-12">
            <span
              >Je dÃ©cide d'investir
              <span id="investment-display">0</span> jetons â†’ je garde
              <span id="kept-tokens">10</span> jetons.</span
            >
          </div>
        </div>
      </div>

      <div class="card mt-4" id="outcome-display">
        <div class="card-header">
          <strong>Vos jetons aprÃ¨s tirage :</strong>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <div class="border p-3 text-center bg-light-yellow">
                <strong>ğŸŸ¡ Boule JAUNE</strong><br />
                <span id="yellow-outcome"
                  >10 jetons gardÃ©s + 3 Ã— 0 jetons gagnÃ©s = 10 jetons</span
                >
              </div>
            </div>
            <div class="col-md-6">
              <div class="border p-3 text-center bg-light-purple">
                <strong>ğŸŸ£ Boule VIOLETTE</strong><br />
                <span id="purple-outcome">10 jetons gardÃ©s</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center mt-4">{{ next_button }}</div>
    </div>
  </div>
</div>

<script>
  function updateOutcomes() {
    const investment =
      parseInt(document.getElementById("id_decision_1_investment").value) || 0;
    const kept = 10 - investment;
    const wonIfYellow = investment * 3;
    const totalIfYellow = kept + wonIfYellow;

    document.getElementById("investment-display").textContent = investment;
    document.getElementById("kept-tokens").textContent = kept;
    document.getElementById(
      "yellow-outcome"
    ).textContent = `${kept} jetons gardÃ©s + 3 Ã— ${investment} jetons gagnÃ©s = ${totalIfYellow} jetons`;
    document.getElementById(
      "purple-outcome"
    ).textContent = `${kept} jetons gardÃ©s`;
  }

  document.addEventListener("DOMContentLoaded", function () {
    const investmentInput = document.getElementById("id_decision_1_investment");
    if (investmentInput) {
      investmentInput.addEventListener("input", updateOutcomes);
    }
  });
</script>

{{ endblock }}
